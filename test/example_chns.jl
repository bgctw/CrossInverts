using ComponentArrays: ComponentArrays as CA

tmpf = () -> begin
    # after running test_util_mixed
    show(Array(chn))
    show(string.(names(chn, :parameters)))
    pop_info.effect_pos
end
function get_example_chain()
    arr0 = [6.615368313747793 0.21106038916871736 3.237934346376708 0.8918383978184413 1.808409898417461 3.1178351496458463 3.2928717709831927 3.8048490155080295 0.24020875077438417 0.43126475964908184 0.944919530409947 0.36574631388830103 0.6446527225101923 0.3932686205855769 4.492810818340642 -5.179307709388195 3.2515787446015416 1.2715251958359404 0.9292514762304018 1.6133976350080224 2.5609655862470335 5.47524666932598 1.1261913721760577 5.199730144649481 0.23011723263955844 6.385600980147442;
            6.615368313747793 0.21106038916871736 3.237934346376708 0.8918383978184413 1.808409898417461 3.1178351496458463 3.2928717709831927 3.8048490155080295 0.24020875077438417 0.43126475964908184 0.944919530409947 0.36574631388830103 0.6446527225101923 0.3932686205855769 4.492810818340642 -5.179307709388195 3.2515787446015416 1.2715251958359404 0.9292514762304018 1.6133976350080224 2.5609655862470335 5.47524666932598 1.1261913721760577 5.199730144649481 0.23011723263955844 6.385600980147442;
            6.615368313747793 0.21106038916871736 3.237934346376708 0.8918383978184413 1.808409898417461 3.1178351496458463 3.2928717709831927 3.8048490155080295 0.24020875077438417 0.43126475964908184 0.944919530409947 0.36574631388830103 0.6446527225101923 0.3932686205855769 4.492810818340642 -5.179307709388195 3.2515787446015416 1.2715251958359404 0.9292514762304018 1.6133976350080224 2.5609655862470335 5.47524666932598 1.1261913721760577 5.199730144649481 0.23011723263955844 6.385600980147442;
            6.615368313747793 0.21106038916871736 3.237934346376708 0.8918383978184413 1.808409898417461 3.1178351496458463 3.2928717709831927 3.8048490155080295 0.24020875077438417 0.43126475964908184 0.944919530409947 0.36574631388830103 0.6446527225101923 0.3932686205855769 4.492810818340642 -5.179307709388195 3.2515787446015416 1.2715251958359404 0.9292514762304018 1.6133976350080224 2.5609655862470335 5.47524666932598 1.1261913721760577 5.199730144649481 0.23011723263955844 6.385600980147442;
            6.615368313747793 0.21106038916871736 3.237934346376708 0.8918383978184413 1.808409898417461 3.1178351496458463 3.2928717709831927 3.8048490155080295 0.24020875077438417 0.43126475964908184 0.944919530409947 0.36574631388830103 0.6446527225101923 0.3932686205855769 4.492810818340642 -5.179307709388195 3.2515787446015416 1.2715251958359404 0.9292514762304018 1.6133976350080224 2.5609655862470335 5.47524666932598 1.1261913721760577 5.199730144649481 0.23011723263955844 6.385600980147442;
            6.615368313747793 0.21106038916871736 3.237934346376708 0.8918383978184413 1.808409898417461 3.1178351496458463 3.2928717709831927 3.8048490155080295 0.24020875077438417 0.43126475964908184 0.944919530409947 0.36574631388830103 0.6446527225101923 0.3932686205855769 4.492810818340642 -5.179307709388195 3.2515787446015416 1.2715251958359404 0.9292514762304018 1.6133976350080224 2.5609655862470335 5.47524666932598 1.1261913721760577 5.199730144649481 0.23011723263955844 6.385600980147442;
            6.615368313747793 0.21106038916871736 3.237934346376708 0.8918383978184413 1.808409898417461 3.1178351496458463 3.2928717709831927 3.8048490155080295 0.24020875077438417 0.43126475964908184 0.944919530409947 0.36574631388830103 0.6446527225101923 0.3932686205855769 4.492810818340642 -5.179307709388195 3.2515787446015416 1.2715251958359404 0.9292514762304018 1.6133976350080224 2.5609655862470335 5.47524666932598 1.1261913721760577 5.199730144649481 0.23011723263955844 6.385600980147442;
            6.615368313747793 0.21106038916871736 3.237934346376708 0.8918383978184413 1.808409898417461 3.1178351496458463 3.2928717709831927 3.8048490155080295 0.24020875077438417 0.43126475964908184 0.944919530409947 0.36574631388830103 0.6446527225101923 0.3932686205855769 4.492810818340642 -5.179307709388195 3.2515787446015416 1.2715251958359404 0.9292514762304018 1.6133976350080224 2.5609655862470335 5.47524666932598 1.1261913721760577 5.199730144649481 0.23011723263955844 6.385600980147442;
            6.615368313747793 0.21106038916871736 3.237934346376708 0.8918383978184413 1.808409898417461 3.1178351496458463 3.2928717709831927 3.8048490155080295 0.24020875077438417 0.43126475964908184 0.944919530409947 0.36574631388830103 0.6446527225101923 0.3932686205855769 4.492810818340642 -5.179307709388195 3.2515787446015416 1.2715251958359404 0.9292514762304018 1.6133976350080224 2.5609655862470335 5.47524666932598 1.1261913721760577 5.199730144649481 0.23011723263955844 6.385600980147442;
            6.615368313747793 0.21106038916871736 3.237934346376708 0.8918383978184413 1.808409898417461 3.1178351496458463 3.2928717709831927 3.8048490155080295 0.24020875077438417 0.43126475964908184 0.944919530409947 0.36574631388830103 0.6446527225101923 0.3932686205855769 4.492810818340642 -5.179307709388195 3.2515787446015416 1.2715251958359404 0.9292514762304018 1.6133976350080224 2.5609655862470335 5.47524666932598 1.1261913721760577 5.199730144649481 0.23011723263955844 6.385600980147442;
            0.2814435369240004 1.6201996236139509 1.831590691004604 6.7948879584153214 0.7919580606234682 2.5422667162852113 1.9597630430365727 0.20771849695772016 0.4278741702024129 2.1207408335046423 0.5068714559938123 1.2545762397084428 1.4363307125846525 0.3076093146785461 0.15931758908185717 -0.13309473239904573 0.023625677719937295 2.428287013016486 0.6704330826635608 1.0751816114609376 3.675512173551313 6.458402822580511 0.18663679470405167 0.9056846084526419 5.98609615860336 0.9975526639382822;
            0.2814435369240004 1.6201996236139509 1.831590691004604 6.7948879584153214 0.7919580606234682 2.5422667162852113 1.9597630430365727 0.20771849695772016 0.4278741702024129 2.1207408335046423 0.5068714559938123 1.2545762397084428 1.4363307125846525 0.3076093146785461 0.15931758908185717 -0.13309473239904573 0.023625677719937295 2.428287013016486 0.6704330826635608 1.0751816114609376 3.675512173551313 6.458402822580511 0.18663679470405167 0.9056846084526419 5.98609615860336 0.9975526639382822;
            0.2814435369240004 1.6201996236139509 1.831590691004604 6.7948879584153214 0.7919580606234682 2.5422667162852113 1.9597630430365727 0.20771849695772016 0.4278741702024129 2.1207408335046423 0.5068714559938123 1.2545762397084428 1.4363307125846525 0.3076093146785461 0.15931758908185717 -0.13309473239904573 0.023625677719937295 2.428287013016486 0.6704330826635608 1.0751816114609376 3.675512173551313 6.458402822580511 0.18663679470405167 0.9056846084526419 5.98609615860336 0.9975526639382822;
            0.2814435369240004 1.6201996236139509 1.831590691004604 6.7948879584153214 0.7919580606234682 2.5422667162852113 1.9597630430365727 0.20771849695772016 0.4278741702024129 2.1207408335046423 0.5068714559938123 1.2545762397084428 1.4363307125846525 0.3076093146785461 0.15931758908185717 -0.13309473239904573 0.023625677719937295 2.428287013016486 0.6704330826635608 1.0751816114609376 3.675512173551313 6.458402822580511 0.18663679470405167 0.9056846084526419 5.98609615860336 0.9975526639382822;
            0.2814435369240004 1.6201996236139509 1.831590691004604 6.7948879584153214 0.7919580606234682 2.5422667162852113 1.9597630430365727 0.20771849695772016 0.4278741702024129 2.1207408335046423 0.5068714559938123 1.2545762397084428 1.4363307125846525 0.3076093146785461 0.15931758908185717 -0.13309473239904573 0.023625677719937295 2.428287013016486 0.6704330826635608 1.0751816114609376 3.675512173551313 6.458402822580511 0.18663679470405167 0.9056846084526419 5.98609615860336 0.9975526639382822;
            0.2814435369240004 1.6201996236139509 1.831590691004604 6.7948879584153214 0.7919580606234682 2.5422667162852113 1.9597630430365727 0.20771849695772016 0.4278741702024129 2.1207408335046423 0.5068714559938123 1.2545762397084428 1.4363307125846525 0.3076093146785461 0.15931758908185717 -0.13309473239904573 0.023625677719937295 2.428287013016486 0.6704330826635608 1.0751816114609376 3.675512173551313 6.458402822580511 0.18663679470405167 0.9056846084526419 5.98609615860336 0.9975526639382822;
            0.2814435369240004 1.6201996236139509 1.831590691004604 6.7948879584153214 0.7919580606234682 2.5422667162852113 1.9597630430365727 0.20771849695772016 0.4278741702024129 2.1207408335046423 0.5068714559938123 1.2545762397084428 1.4363307125846525 0.3076093146785461 0.15931758908185717 -0.13309473239904573 0.023625677719937295 2.428287013016486 0.6704330826635608 1.0751816114609376 3.675512173551313 6.458402822580511 0.18663679470405167 0.9056846084526419 5.98609615860336 0.9975526639382822;
            0.2814435369240004 1.6201996236139509 1.831590691004604 6.7948879584153214 0.7919580606234682 2.5422667162852113 1.9597630430365727 0.20771849695772016 0.4278741702024129 2.1207408335046423 0.5068714559938123 1.2545762397084428 1.4363307125846525 0.3076093146785461 0.15931758908185717 -0.13309473239904573 0.023625677719937295 2.428287013016486 0.6704330826635608 1.0751816114609376 3.675512173551313 6.458402822580511 0.18663679470405167 0.9056846084526419 5.98609615860336 0.9975526639382822;
            0.2814435369240004 1.6201996236139509 1.831590691004604 6.7948879584153214 0.7919580606234682 2.5422667162852113 1.9597630430365727 0.20771849695772016 0.4278741702024129 2.1207408335046423 0.5068714559938123 1.2545762397084428 1.4363307125846525 0.3076093146785461 0.15931758908185717 -0.13309473239904573 0.023625677719937295 2.428287013016486 0.6704330826635608 1.0751816114609376 3.675512173551313 6.458402822580511 0.18663679470405167 0.9056846084526419 5.98609615860336 0.9975526639382822;
            0.2814435369240004 1.6201996236139509 1.831590691004604 6.7948879584153214 0.7919580606234682 2.5422667162852113 1.9597630430365727 0.20771849695772016 0.4278741702024129 2.1207408335046423 0.5068714559938123 1.2545762397084428 1.4363307125846525 0.3076093146785461 0.15931758908185717 -0.13309473239904573 0.023625677719937295 2.428287013016486 0.6704330826635608 1.0751816114609376 3.675512173551313 6.458402822580511 0.18663679470405167 0.9056846084526419 5.98609615860336 0.9975526639382822]
    par_names = ["fixed[:sv₊p][1]", "fixed[:sv₊p][2]", "fixed[:sv₊p][3]", "ranadd[:sv₊b1]",
        "ranmul[:sv₊x][1]", "ranmul[:sv₊x][2]", "ranmul[:sv₊τ]",
        "pranadd_σ[:sv₊b1]", "pranmul_σ[:sv₊x][1]", "pranmul_σ[:sv₊x][2]",
        "pranmul_σ[:sv₊τ]", "indiv[:sv₊i, 1]", "indiv[:sv₊i, 2]", "indiv[:sv₊i, 3]",
        "indiv_ranadd[:sv₊b1, 1]", "indiv_ranadd[:sv₊b1, 2]", "indiv_ranadd[:sv₊b1, 3]",
        "indiv_ranmul[:sv₊x, 1][1]", "indiv_ranmul[:sv₊x, 1][2]", "indiv_ranmul[:sv₊τ, 1]",
        "indiv_ranmul[:sv₊x, 2][1]", "indiv_ranmul[:sv₊x, 2][2]", "indiv_ranmul[:sv₊τ, 2]",
        "indiv_ranmul[:sv₊x, 3][1]", "indiv_ranmul[:sv₊x, 3][2]", "indiv_ranmul[:sv₊τ, 3]"]
    chn = Chains(arr0, par_names)
    effect_pos = CA.ComponentVector(fixed = (sv₊p = 1:3),
        ranadd = (sv₊b1 = 4),
        ranmul = (sv₊x = 5:6, sv₊τ = 7),
        ranadd_σ = (sv₊b1 = 8),
        ranmul_σ = (sv₊x = 9:10, sv₊τ = 11),
        indiv = (A = (sv₊i = 12), B = (sv₊i = 13), C = (sv₊i = 14)),
        indiv_ranadd = (A = (sv₊b1 = 15), B = (sv₊b1 = 16), C = (sv₊b1 = 17)),
        indiv_ranmul = (A = (sv₊x = 18:19, sv₊τ = 20), B = (sv₊x = 21:22, sv₊τ = 23),
            C = (sv₊x = 24:25, sv₊τ = 26)))
    (; chn, effect_pos)
end
